5. NOSSA GRAMÁTICA 
Como dissemos anteriormente, seguimos de perto as propostas de Othero (2004) e Pagani (2004) para organizar a gramática que aqui apresentamos. O leitor irá encontrar essa gramática na página da Editora (www.parabolaeditorial.com.br). O nome do arquivo é gram.swi, para ser aberto em Prolog, e gram.txt, que pode ser aberto mais facilmente em um editor de textos. Sinta-se à vontade para carregar esta gramática no Prolog e testar algumas frases com ela1. Para testar a gramática, dê dois cliques sobre o arquivo gram.swi, entre no ambiente Prolog e digite s([a,menina,corre])., por exemplo, e tecle enter. Siga sempre este modelo: s([palavra1,palavra2,…,palavraN]). e então enter.             1 2 3    4 5    % Inicialização do analisador s(S) :- s(EC, S, []),         write('Estrutura de constituintes: '),         write(EC), nl.  %%%%%%%%%%%%%%%%%%%%%%%% % Regras sintagmáticas % %%%%%%%%%%%%%%%%%%%%%%%%  %Sentença (S) s([sn, SN, sv, SV]) --> sn([_,Num], SN), sv(Num, SV). s([sv, SV, sn, SN]) --> sv(Num, SV), sn([_,Num], SN). s([sv, SVimp]) --> svimp(_, SVimp).   % Sintagmas Nominais (SN) sn(Conc, [Det, N]) --> det(Conc, Det), n(Conc, N). sn(Conc, N) -->  n(Conc, N).    1 Esta pequena gramática tem apenas a pretensão de exemplificar, através de uma aplicação, alguns dos conhecimentos que estudamos ao longo da leitura. Para uma gramática mais consistente em Prolog, remetemos o leitor a Othero (2004). 

 75  6 7 8 9  10    11       12 13 14 15 16        17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36    37 38 39 40 41 42 43 44 45 % Sintagmas Verbais (SV) sv(Num, V) --> v(Num, i, V). sv(Num, [V, sn, [SN]]) --> v(Num, td, V), sn(_, SN). sv(Num, [V, sp, [SP]]) --> v(Num, ti(P), V), sp(P, SP). sv(Num, [V, sn, [SN], sp, [SP]]) --> v(Num, tdi(P), V), sn(_, SN), sp(P, SP). svimp(Num, Vimp) --> vimp(Num, i, Vimp).   % Sintagmas Preposicionais (SP) sp(Lex, [P, N]) --> p(Lex, Conc, P), n(Conc, N).   %%%%%%%%%%%%%%%%%%% % Regras lexicais % %%%%%%%%%%%%%%%%%%%  det(Conc, Det) --> [Det], {det(Conc, Det)}. n(Conc, N) --> [N], {n(Conc, N)}. v(Num, Val, V) --> [V], {v(Num, Val, V)}. vimp(Num, Val, Vimp) --> [Vimp], {vimp(Num, Val, Vimp)}. p(Lex, Conc, P) --> [P], {p(Lex, Conc, P)}.   %%%%%%%%%% % Léxico % %%%%%%%%%%  % Determinantes (det) det([masc, sing], o). det([fem, sing], a). det([masc, plur], os). det([fem, plur], as). det([masc, sing], um). det([fem, sing], uma). det([masc, plur], uns). det([fem, plur], umas). det([masc, sing], este). det([fem, sing], esta). det([masc, plur], estes). det([fem, plur], estas). det([masc, sing], esse). det([fem, sing], essa). det([masc, plur], esses). det([fem, plur], essas). det([masc, sing], aquele). det([fem, sing], aquela). det([masc, plur], aqueles). det([fem, plur], aquelas).   % Substantivos (N) n([masc, sing], brinquedo). n([masc, plur], brinquedos). n([fem, sing], estante). n([fem, plur], estantes). n([masc, sing], homem). n([masc, plur], homens). n([masc, sing], joão). n([masc, sing], livro). n([masc, plur], livros). 

 76 46 47 48 49 50 51 52 53    54 55 56 57 58 59 60 61 62    63 64 65 66 67 68 69 70 71 72 73  n([fem, sing], maria). n([masc, sing], menino). n([fem, sing], menina). n([masc, plur], meninos). n([fem, plur], meninas). n([fem, sing], mulher). n([fem, plur], mulheres). n([fem, sing], sintaxe).   % Verbos (V) v(sing, i, corre). v(plur, i, correm). v(sing, td, ama). v(plur, td, amam). v(sing, ti(de), gosta). v(plur, ti(de), gostam). v(sing, tdi(em), coloca). v(plur, tdi(em), colocam). vimp(sing, i, chove).   % Preposições (P) p(com, inf, com). p(de, [_,_], de). p(de, [masc,sing], do). p(de, [fem, sing], da). p(de, [masc, plur], dos). p(de, [fem, plur], das). p(em, [_,_], em). p(em, [masc, sing], no). p(em, [fem, sing], na). p(em, [masc, plur], nos). p(em, [fem, plur], nas).   Vamos agora tentar entender o funcionamento dessa gramática. A regra (1) expressa o seguinte:  (1) s([sn, SN, sv, SV]) --> sn([_,Num], SN), sv(Num, SV).             (a)              (b)                         (c)  (a) A S é formada por um SN e um SV  (b) O SN apresenta dois valores: um valor qualquer a ser especificado (expresso pelo _ ) e um valor que diz respeito ao número (representado pela variável Num). 

 77 (c) O SV também apresenta a variável Num, que deve unificar seu valor com o valor da variável Num do SN. Ou seja, para que a S seja gramatical, o SN e o SV devem concordar em relação a essa variável, isto é, em relação ao número. Essa relação logo ficará mais clara, quando analisarmos o léxico. É lá que os valores sing e plur estão especificados para cada item lexical.  A regra (2) de formação de sentenças foi implementada exatamente como a regra (1), porém com a ordem dos constituintes invertida:   (2) s([sv, SV, sn, SN]) --> sv(Num, SV), sn([_,Num], SN).  Essa regra dá conta de sentenças que não estão na ordem direta do português, ou melhor, que estão com a ordem VS — verbo, sujeito. Esse segundo tipo de sentença apresenta primeiro o SV e depois um SN sujeito, e uma sentença com essa estrutura pode ser chamada de sentença marcada. Mesmo que essa regra de inversão do sujeito seja bastante restrita em PB, decidimos adotá-la em nossa gramática, nem que seja a título de maior exemplificação2.  Já vimos que, para que a sentença seja bem formada em português, é necessário que o SN sujeito concorde em número com o núcleo do SV, não importando se o sujeito esteja anteposto ou posposto ao verbo (claramente, estamos deixando de lado a concordância pessoal. Quer dizer, para uma sentença ser gramatical em português, o verbo deve concordar em número e pessoa com seu sujeito. Contudo, como já vimos, nossa pequena gramática irá apenas reconhecer a flexão verbal na terceira pessoa do singular e do plural).  2 Cf. Naro & Votre (1999) para saber mais sobre sentenças marcadas em português brasileiro. 

78 Já a regra (3 ) dá conta das frases compostas por uma oração sem 
sujeito:  
(3)s([sv, SVimp]) --> svimp(_, SVimp).
Essa regra consegue analisar sentenças como (5.1) e barrar 
sentenças como ( 5.2): 
(5.1) Chove.  
(5.2) *O João chove.  
Note, porém, que a regra ( 3) não diz respeito a qualquer SV. A 
única maneira de encontrarmos uma oração sem sujeito será se o SV for 
do tipo SVimp, ou seja, um SV com um verbo impessoal3.  
Vejamos agora o tratamento dado aos sintagmas. As regras ( 4) e (5 ) 
dizem respeito aos sintagm as nominais:  
(4)sn(Conc, [Det, N]) --> det(Conc, Det), n(Conc, N).
 (a)          (b) 
(5)sn(Conc, N) -->  n(Conc, N).
A regra ( 4) diz que um SN 
(a)apresenta uma variável Conc (que será a variável de
número e gênero, como veremos adiante) e é formado por
determinante ( det) seguido de um N.
3 Seguimos aqui a proposta de Othero (2004: 176 -178).  

 79 (b)  o determinante e o N devem apresentar o mesmo valor para a variável Conc.  A regra (5) mostra que, além de o SN poder ser formado por um det e por um N, como vimos na regra (4), ele também pode ser formado apenas por um N (ou seja: SN à N). O N é um substantivo, ou seja, um nó terminal. A variável Conc deve ter o mesmo valor tanto para o N quanto para o SN. Veremos que o valor dessa variável faz parte da informação lexical de cada palavra contida no léxico do programa. A recorrência da variável nas várias vezes em que é representada faz com que esse valor percole os nós, desde o item lexical até a sua projeção máxima, o sintagma, através de um recurso de unificação de variáveis, aparecendo até na regra mais alta de todas, a da sentença. Para entendermos um pouco melhor esse procedimento, avancemos um pouco mais, antes de passarmos à análise dos próximos sintagmas, e vejamos a regra lexical que trata do N, a regra (13): (13) n(Conc, N) --> [N], {n(Conc, N)}. Essa regra lexical (assim como as demais regras deste tipo) permite que o programa insira um item lexical do dicionário logo abaixo do nó terminal N. Essa inserção deve ser sensível à variável que acompanha cada item lexical. Para ficar mais clara essa relação, vejamos as regras (39), (40), (41) e (42), que fazem parte do dicionário do programa: (39) n([fem, sing], estante). (40) n([fem, plur], estantes). (41) n([masc, sing], homem). (42) n([masc, plur], homens). 

 80 As regras de inserção lexical permitem adicionar um item do conjunto lexical da base de dados do programa abaixo de um nó terminal. Ou seja, um N como estante irá abaixo de um nó terminal N. A variável Conc garante que os valores de gênero e número acompanhem o item lexical, e forçam a concordância entre determinante e substantivo, por exemplo. Passemos agora ao tratamento do sintagma verbal. Propusemos cinco regras para o SV:  (6) sv(Num, V) --> v(Num, i, V). (7) sv(Num, [V, sn, [SN]]) --> v(Num, td, V), sn(_, SN). (8) sv(Num, [V, sp, [SP]]) --> v(Num, ti(P), V), sp(P, SP). (9) sv(Num, [V, sn, [SN], sp, [SP]]) --> v(Num, tdi(P), V), sn(_, SN), sp(P, SP). (10) svimp(Num, Vimp) --> vimp(Num, i, Vimp)  Poderíamos traduzir facilmente essas regras para regras de reescrita “convencionais”, utilizadas por sintaticistas (com exceção da última, que, como vimos foge um pouco do padrão):  (6’) SV à V (7’) SV à V  SN (8’) SV à V  SP (9’) SV à V  SN  SP  Para lidar com a subcategorização verbal, introduzimos o valor valência (Val) aos verbos, obtendo uma maneira eficiente de tratar o 

 81 fenômeno4. Se analisarmos a regra (14) e (15), de inserção lexical dos verbos e dos verbos impessoais, poderemos ver que a valência é especificada ali:  (14) v(Num, Val, V) --> [V], {v(Num, Val, V)}. (15) vimp(Num, Val, Vimp) --> [Vimp], {vimp(Num, Val, Vimp)}.  A variável Val dá conta da transitividade verbal. Os verbos podem ser transitivos diretos (vtd), transitivos indiretos (vti), bitransitivos (vtdi), ou intransitivos (vi)TPT. Essa informação deve constar na descrição de cada verbo, no dicionário do programa.  De maneira sucinta, podemos dizer que as regras de (6) a (10) sobre os SVs dizem que:  (6) Um SV pode ser um verbo intransitivo. (7) Um SV pode ser um verbo transitivo seguido por um SN. (8) Um SV pode ser um verbo transitivo indireto seguido por um SP. (9) Um SV pode ser um verbo bitransitivo seguido por um SN e por um SP. (10) Um SV pode ser do tipo Vimp, ou seja, apresentar um verbo impessoal (que não tenha sujeito) e, além disso, ser intransitivo.  É interessante notarmos que cada verbo transitivo indireto deve ser seguido por um SP com uma preposição específica. Ou seja, olhando  4 Adotamos essa estratégia com base em Pagani (2004: 16) e Pereira & Shieber (1987: 86). 

 82 as regras (58) a (61), percebemos que tanto eles como os verbos bitransitivos trazem consigo, na informação lexical, exatamente qual a preposição que regem:  (58) v(sing, ti(de), gosta). (60) v(sing, tdi(em), coloca).  Para entender bem esse recurso funciona, veja o quadro 5.1:  Quadro 5.1: Regência verbal . Regra do SV com verbo transitivo indireto: (8) sv(Num, [V, sp, SP]) --> v(Num, ti(P), V), sp(P, SP).  . Informação lexical: (58) v(sing, ti(de), gosta).  . O SV da regra (8) está pedindo um verbo (V) seguido de um sintagma preposicional (SP). Esse verbo deve (i) apresentar um valor para a variável Num; (ii) ser do tipo ti; (iii) apresentar um item lexical que unifique com a variável P; e (iv) apresentar um item lexical que unifique com a variável V.  . Lembre-se de que as variáveis são sempre expressas por letras maiúsculas.  . Processo de unificação de variáveis:    (8) sv(Num, [V, sp, [SP]]) --> v(Num,  ti(P),  V), sp(P, SP).                                            (58) v(sing, ti(de), gosta).  . Veja que as informações lexicais contêm a preposição adequada para cada verbo, e a variável P na regra do SV irá fazer com que essa preposição seja usada somente junto com seu respectivo verbo.  

 83 A regra (58) diz que gosta é um verbo no singular (sing), transitivo indireto (ti), que rege um complemento com a preposição de.  Graças a esse recurso, a gramática barra sentenças como (5.3) e (5.4), autorizando apenas (5.5) e (5.6):  (5.3) *Os homens gostam em Maria. (5.4) *As mulheres colocam os livros de estantes. (5.5) Os homens gostam de Maria. (5.6) As mulheres colocam os livros em estantes.  Vimos então as estratégias utilizadas para a regência verbal e subcategorização dos verbos. Para a concordância verbal, utilizamos a variável Num, que permite que o verbo concorde com o seu sujeito. Essa variável encontra o valor no item lexical (sing ou plur), e esse valor percola os nós na árvore até chegar à primeira regra que vimos, a da sentença (regra (1)). Lá, ela deve unificar com o valor do item lexical do N (sing ou plur), que também percolou os nós, partindo do item lexical listado no dicionário do programa, indo até a regra de formação da sentença.  Para a implementação dos sintagmas preposicionais, utilizamos uma interessante proposta apresentada por Pagani (2004)5. Acompanhe a regra (11):  (11) sp(Lex, [P, N]) --> p(Lex, Conc, P), n(Conc, N).   5 Fizemos, no entanto, algumas simplificações. Para ver a proposta de Pagani, cf. Pagani (2004: 17-21). 

 84 Note que também a preposição apresenta uma variável Conc, de concordância, em casos de preposições que sofrem aglutinação com o determinante. Veja as regras de preposições (64) a (68):  (64) p(de, [_,_], de). (65) p(de, [masc,sing], do). (66) p(de, [fem, sing], da). (67) p(de, [masc, plur], dos). (68) p(de, [fem, plur], das).  Há cinco diferentes regras para apenas uma preposição. Todas elas lidam com uma preposição “flexionável”. A regra (64) garante a preposição “de” sem flexão alguma, já que apresenta a seguinte subcategorização [_,_]. Devemos ler essa informação como “há dois valores quaisquer aqui que simplesmente não importam!”. Já as regras seguintes são bem mais específicas para cada preposição. Cada uma dessas preposições poderá aparecer somente no contexto especificado por seus valores, e devem efetuar a concordância com o substantivo com o qual concordam: • do = masculino, singular (amigas do João / *amigas do Maria) • da = feminino, singular (amigas da Maria / *amigas da João) • dos = masculino, plural (amigas dos meninos / *amigas dos João) • das = feminino, plural (amigas das meninas / *amigas das João)  Com isso, chegamos ao fim de nossas explicações sobre a pequena gramática que apresentamos aqui. Tente carregá-la em seu computador e 

 85 teste-a tantas vezes quanto necessário. Aumente seu léxico e suas regras gramaticais e descubra algumas dificuldades de implementação que não abordamos aqui.  Lembre-se de que para testar este pequeno parser sintático no Prolog é preciso escrever a frase com uma formatação bem específica (e bem chata também). Veja os exemplos:  Para testar a sentença…   Devemos escrever em Prolog… Chove.     s([chove]). O João ama sintaxe.   s([o,joão,ama,sintaxe]). A Maria gosta do João.   s([a,maria,gosta,do,joão]). Etc.      s([etc]).  Veja duas consultas que realizamos, a primeira com uma sentença gramatical (O João ama sintaxe) e a segunda com uma sentença agramatical (O sintaxe João ama).  Quadro 5.2: Testando nosso pequeno parser % c:/Prolog/gram.swi compiled 0.00 sec, 13,768 bytes  Welcome to SWI-Prolog (Version 4.0.7) Copyright (c) 1990-2000 University of Amsterdam.  Copy policy: GPL-2 (see www.gnu.org)  For help, use ?- help(Topic). or ?- apropos(Word).  ?- s([o,joão,ama,sintaxe]). Estrutura de constituintes: [sn, [o, joão], sv, [ama, sn, [sintaxe]]]  Yes ?- s([o,sintaxe,joão,ama]).  No  

